const t="https://www.udemy.com/",o=["https://www.youtube.com/","https://video.unext.jp/","https://www.amazon.co.jp/Amazon-Video/"];function e(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function n(){const t=JSON.parse(localStorage.getItem("urlTimeTracker"))||{},o=e();for(const e in t)e!=o&&delete t[e];return t[o]||(t[o]={totalSeconds:0}),t}window.addEventListener("load",()=>{console.log("load1");const a=location.href;o.some(t=>a.startsWith(t))?function(){const o=e();let a=n();if(a[o].totalSeconds>=3600)return alert("今日の閲覧時間はすでに制限を超えています。"),void(window.location.href=t);const l=setInterval(()=>{a=n(),a[o].totalSeconds+=30,function(t){localStorage.setItem("urlTimeTracker",JSON.stringify(t))}(a),console.log(`[追跡中] ${o} の合計時間: ${a[o].totalSeconds}秒`)},3e4),r=setInterval(()=>{a=n(),a[o].totalSeconds>=3600&&(console.log(`[制限超過] ${a[o].totalSeconds}秒 に達したためリダイレクト`),clearInterval(l),clearInterval(r),alert("1日の閲覧時間上限を超えました。別ページに移動します。"),window.location.href=t)},6e4)}():console.log("このページは時間制限対象ではありません")});